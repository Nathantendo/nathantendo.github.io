<canvas id="gameCanvas" width="800" height="400"></canvas>
<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    let ship = { x: 400, y: 200, angle: 0, speed: 0 };
    let bullets = [];
    let asteroids = [];

    for (let i = 0; i < 5; i++) {
        asteroids.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, dx: Math.random() * 2 - 1, dy: Math.random() * 2 - 1, size: 30 });
    }

    function drawShip() {
        ctx.save();
        ctx.translate(ship.x, ship.y);
        ctx.rotate(ship.angle);
        ctx.fillStyle = "#FFFFFF";
        ctx.beginPath();
        ctx.moveTo(10, 0);
        ctx.lineTo(-10, -10);
        ctx.lineTo(-10, 10);
        ctx.closePath();
        ctx.fill();
        ctx.restore();
    }

    function drawAsteroids() {
        ctx.fillStyle = "#808080";
        asteroids.forEach(ast => {
            ctx.beginPath();
            ctx.arc(ast.x, ast.y, ast.size, 0, Math.PI * 2);
            ctx.fill();
        });
    }

    function drawBullets() {
        ctx.fillStyle = "#FF0000";
        bullets.forEach(b => {
            ctx.fillRect(b.x, b.y, 5, 5);
        });
    }

    function update() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawShip();
        drawAsteroids();
        drawBullets();

        ship.x += Math.cos(ship.angle) * ship.speed;
        ship.y += Math.sin(ship.angle) * ship.speed;

        bullets.forEach(b => {
            b.x += Math.cos(b.angle) * 5;
            b.y += Math.sin(b.angle) * 5;
        });

        asteroids.forEach(ast => {
            ast.x += ast.dx;
            ast.y += ast.dy;
        });

        requestAnimationFrame(update);
    }

    document.addEventListener("keydown", e => {
        if (e.key === "ArrowLeft") ship.angle -= 0.1;
        if (e.key === "ArrowRight") ship.angle += 0.1;
        if (e.key === "ArrowUp") ship.speed = 2;
        if (e.key === " ") bullets.push({ x: ship.x, y: ship.y, angle: ship.angle });
    });

    document.addEventListener("keyup", e => {
        if (e.key === "ArrowUp") ship.speed = 0;
    });

    update();
</script>
